# ============================================================================
# eFiche Clinical Database - ETL Configuration
# Example Environment Variables (NO SECRETS INCLUDED)
# ============================================================================

# ============================================================================
# DATA GENERATION CONFIGURATION
# ============================================================================
NUM_ROWS=10000

# Paths to ETL data files (modify as needed)
ETL_CSV_FILE=/opt/airflow/data/padchest_synthetic_data.csv
STATE_FILE=/opt/airflow/data/data_state.json

# Incremental Data Loading Settings
APPEND_MODE=true

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database host and port
DB_HOST=localhost
DB_PORT=5432

# --- FILL THESE WITH YOUR REAL CREDENTIALS ---
DB_USER=__CHANGE_ME__
DB_PASSWORD=__CHANGE_ME__

DB_NAME=efiche_clinical_database

# Connection pool settings
DB_CONNECTION_TIMEOUT=30
DB_POOL_SIZE=1000
DB_MAX_OVERFLOW=10000
DB_ECHO=false

# ============================================================================
# ETL CONFIGURATION
# ============================================================================

# Hugging Face Dataset Settings
HUGGINGFACE_DATASET=MedHK23/IMT-CXR
DATASET_SPLIT=default
USE_STREAMING=false
SKIP_VALIDATION=false
DRY_RUN=false

# ETL Processing
BATCH_SIZE=500
MAXBATCH_SIZE_ROWS=25000
SOURCE=huggingface

# ETL Validation
VALIDATION_ENABLED=true
STRICT_MODE=false

# ETL Error Handling
MAX_RETRIES=3
RETRY_DELAY_SECONDS=5
CONTINUE_ON_ERROR=false

# Hugging Face Cache and Processing
HF_CACHE_DIR=./cache
HF_USE_AUTH_TOKEN=false   # Set to "true" ONLY if using a private dataset
HF_NUM_PROC=4

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

LOG_LEVEL=INFO
LOG_DIR=./logs
LOG_FILE=padchest_etl.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

ENVIRONMENT=production
DEBUG=false

# ============================================================================
# AIRFLOW + POSTGRES SETTINGS
# ============================================================================

# Airflow UID (if using Docker)
AIRFLOW_UID=50000

# --- FILL THESE WITH YOUR REAL POSTGRES CREDENTIALS ---
POSTGRES_USER=__CHANGE_ME__
POSTGRES_PASSWORD=__CHANGE_ME__

POSTGRES_ANALYTICS_DB=efiche_clinical_database
